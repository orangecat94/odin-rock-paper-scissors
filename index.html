<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Odin Rock Paper Scissors</title>
    </head>
    <body>
        <button class="rock">rock</button>
        <button class="paper">paper</button>
        <button class="scissors">scissors</button>
        
        <div class="score"></div> 
        <div class="outcome"></div> 
        <script>

            const rock = document.querySelector('button.rock');
            const paper = document.querySelector('button.paper');
            const scissors = document.querySelector('button.scissors');
            const score = document.querySelector('div.score');
            const outcome = document.querySelector('div.outcome');
 
            rock.addEventListener('click', () => {
                const computerSelection = getComputerChoice();
                const playerSelection = 'rock';

                playRound(playerSelection, computerSelection);
            });
             
            paper.addEventListener('click', () => {
                const computerSelection = getComputerChoice();
                const playerSelection = 'paper';

                playRound(playerSelection, computerSelection);
            });
             
            scissors.addEventListener('click', () => {
                const computerSelection = getComputerChoice();
                const playerSelection = 'scissors';

                playRound(playerSelection, computerSelection);
            });
              
            // getComputerChoice
            function getComputerChoice() {

                // Create array of choices
                let choices = ['rock', 'paper', 'scissors'];
                
                // console.log('Length of Choice array: ' + choices.length);

                // Get randomised choice
                // console.log('Randomised index for Choice Array: ' + Math.floor(Math.random() * choices.length));

                choice = choices[Math.floor(Math.random() * choices.length)];
                
                // console.log(choice);

                return choice; 
            }
            
            // playRound
            let playerSelection;
            let computerSelection;
            let playerScore = 0;
            let computerScore = 0;

            // // Get playerSelection
            // playerSelection = prompt('Rock, Paper, or Scissors? ').toLowerCase();

            // // Get computerSelection
            // computerSelection = getComputerChoice();

            function playRound(playerSelection, computerSelection) {
                
                // Clearing outcome div for each round
                outcome.replaceChildren();

                // Updating score div for each round
                const currentScore = document.createElement('p');
                currentScore.innerText = `Player: ${playerScore} 
                                          Computer: ${computerScore}`;
                score.replaceChildren(currentScore);

                // CASE: Draw
                if (playerSelection === computerSelection) {
                    const p = document.createElement('p');
                    p.innerText = 'draw';
                    outcome.appendChild(p);
                    // console.log('Draw');
                    // return 'draw';
                } 
                
                // CASE: playerSelection is 'rock'
                if (playerSelection === 'rock' && computerSelection === 'scissors') {
                    const p = document.createElement('p');
                    p.innerText = 'win';
                    outcome.appendChild(p);
                    
                    playerScore++;

                    // console.log('You Win! Rock beats Scissors');
                    // return 'win';
                } else if (playerSelection === 'rock' && computerSelection === 'paper') {
                    const p = document.createElement('p');
                    p.innerText = 'lose';
                    outcome.appendChild(p);
                    
                    computerScore++;

                    // console.log('You Lose! Paper beats Rock');
                    // return 'lose';
                }

                // CASE: playerSelection is 'paper'
                if (playerSelection === 'paper' && computerSelection === 'rock') {
                    const p = document.createElement('p');
                    p.innerText = 'win';
                    outcome.appendChild(p);
                    
                    playerScore++;

                    // console.log('You Win! Paper beats Rock');
                    // return 'win'; 
                } else if (playerSelection === 'paper' && computerSelection === 'scissors') {
                    const p = document.createElement('p');
                    p.innerText = 'lose';
                    outcome.appendChild(p);
                    
                    computerScore++;

                    // console.log('You Lose! Scissors beats Paper');
                    // return 'lose';
                }

                // CASE: playerSelection is 'scissors'
                if (playerSelection === 'scissors' && computerSelection === 'paper') {
                    const p = document.createElement('p');
                    p.innerText = 'win';
                    outcome.appendChild(p);
                    
                    playerScore++;

                    // console.log('You Win! Scissors beats Paper');
                    // return 'win'; 

                } else if (playerSelection === 'scissors' && computerSelection === 'rock') {
                    const p = document.createElement('p');
                    p.innerText = 'lose';
                    outcome.appendChild(p);
                    
                    computerScore++;

                    // console.log('You Lose! Rock beats Scissors');
                    // return 'lose';
                }

            }

            // // game
            // function game() {   
            //     let playerScore = 0;
            //     let computerScore = 0;
            //     let roundResult = '';

            //     for (let i = 0; i < 5; i++) {
            //         roundResult = playRound();

            //         if (roundResult === 'win') {
            //             playerScore++;
            //         } else if (roundResult === 'lose') {
            //             computerScore++;
            //         } else {
            //             continue;
            //         }
            //     }

            //     if (playerScore > computerScore) {
            //         console.log(`You Win!\nPlayer  : ${playerScore}\nComputer: ${computerScore}`);
            //     } else if (playerScore < computerScore) {
            //         console.log(`You Lose!\nPlayer  : ${playerScore}\nComputer: ${computerScore}`);
            //     } else {
            //         console.log('DRAW');
            //     }
            // }

            // game();
        </script>
    </body>
</html>
